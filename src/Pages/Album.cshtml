@page "{name}/{handler?}"
@model AlbumsModel

@{
    var ost = Model.Album.Name;
}

<div id="admin" if-authorized>
    <form method="post" enctype="multipart/form-data">
        <input type="file" id="files" aria-label="Upload photo" name="files" required multiple accept="image/*" />
        <input type="submit" asp-page-handler="upload" data-progress="Uploading..." id="btnfiles" value="Upload photos" />
    </form>

    <form method="post" class="delete">
        <input type="submit" asp-page-handler="delete" id="deletealbum" aria-label="Delete album..." title="Delete album..." value="🗙" />
    </form>
</div>

<div id="title">
    <section role="menubar" aria-label="Pagination">
        @if (Model.Album.Previous != null)
        {
            <a href="~/album/@Model.Album.Previous.UrlName" accesskey="p" title="@Model.Album.Previous.Name">&lt; Prev</a>
        }

        @if (Model.Album.Next != null)
        {
            <a href="~/album/@Model.Album.Next.UrlName" accesskey="n" title="@Model.Album.Next.Name">Next &gt;</a>
        }
    </section>
    <h2>@Model.Album.Name</h2>
</div>

<section class="photolist">
    @{
        foreach (Photo photo in Model.Album.Photos)
        {
            <a href="@photo.Link">
                <figure class="album">
                    <img photo="@photo" Type="Thumbnail" />
                    <figcaption>@photo.DisplayName</figcaption>
                </figure>
            </a>
        }
    }
</section>

@section scripts {
    <script if-authorized src="~/js/admin.js" asp-append-version="true" async></script>
}

@section styles {
    <link if-authorized rel="stylesheet" href="~/css/admin.css" asp-append-version="true" />
    @if (Model.Album.Next != null)
    {
        <link rel="next" href="~/album/@Model.Album.Next.UrlName" />
    }

    @if (Model.Album.Previous != null)
    {
        <link rel="prev" href="~/album/@Model.Album.Previous.UrlName" />
    }
}